{% extends "members/base.html" %}
{% load l10n %}
{% block navbar2 %}
<div class="navbar primary_bg padding_all_small" style="margin-top:2px;">
    <a class="more_info_button float_left" style="font-size: 1.1rem;" href="{% url 'shop' %}#nav">
        Shop </a>
    <a class="float_left"> > </a>
    {% if object.id %}
    <a class="float_left strong" style="font-size: 1.1rem; color:white;"> {{object.title}} </a>
    {% else %}
    <a class="float_left strong" style="font-size: 1.1rem; color:white;"> Neu </a>
    {% endif %}
</div>
{% endblock %}

{% block content %}
<form  method="POST" enctype="multipart/form-data">
    {% csrf_token %}
<h3>Daten</h3>
    <label class="mdc-text-field mdc-text-field--filled title">
        <span class="mdc-text-field__ripple"></span>
        <input type="text" class="mdc-text-field__input" aria-labelledby="title-label" name="title" required
        value="{% if object.id%} {{object.title}} {% endif %}">
        <span class="mdc-floating-label" id="title-label">Titel</span>
        <span class="mdc-line-ripple"></span>
    </label>

    <label class="mdc-text-field mdc-text-field--filled price">
        <span class="mdc-text-field__ripple"></span>
        <input type="number" step="0.01" class="mdc-text-field__input" aria-labelledby="price-label" name="price" required
            value="{% if object.id%}{{object.price|unlocalize}}{% endif %}">
        <span class="mdc-floating-label" id="price-label">Preis</span>
        <span class="mdc-line-ripple"></span>
    </label>
    <br><br>
    <h5>Beschreibung</h5>

    <label class="mdc-text-field mdc-text-field--textarea mdc-text-field--no-label">
        <textarea class="mdc-text-field__input" rows="5" cols="200" aria-label="description" id="id_description" name="description">{% if object.id %}{{object.description}}{% endif %}
        </textarea>
        <span class="mdc-notched-outline">
            <span class="mdc-notched-outline__leading"></span>
            <span class="mdc-notched-outline__trailing"></span>
        </span>
    </label>

    <button class="form_button padding_all_small" style="margin:20px auto;" type="submit">
        <span >OK</span>
    </button>
</form>
<script>
    const fields = document.querySelectorAll('.mdc-text-field');
    fields.forEach(field => mdc.textField.MDCTextField.attachTo(field));
</script>
{% endblock %}