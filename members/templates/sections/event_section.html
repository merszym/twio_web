{% load custom_filters %}


<style>
    .date_format{
        color: #f3f3f3;
        font-size:200%;
    }
    .date_small{
        color: #f3f3f3;
        font-size:14px;
        text-transform: uppercase;
    }
    .event-card{
        min-width: 300px;
    }
    .mdl-card{
        min-height: 50px !important;
        width:100%
    }
</style>

<section class="section" id="event_section">
    <div class="content">
        <h1 class="center">Termine</h1>
        {% if messages %}
        <div class="mdl-grid">
            <div class="mdl-cell mdl-cell--12-col p-2 light-bg mdl-shadow--2dp">
                <h4 class="m-0 primary">Wichtige Hinweise</h4>
                {% for msg in messages %}
                <div class="m-1">
                    <span>[{{msg.author.first_name}}, {{msg.date |date:'d.m.Y'}}]: <strong>{{msg.title}}</strong> </span>
                    <p>{{msg.message}}</p>
                </div>
                {% endfor %}
            </div>
        </div>
        {% endif %}
        <div class="mdl-grid p-0 m-0" >
            {% for year in events %}
                {% for month in events|lookup:year %}
                    <div class="mdl-cell mdl-cell--6-col mdl-cell--6-col-tablet mdl-cell--12-col-phone">

                        <h4 class="m-0">{{ month }} {{year}}</h4>

                        {% for event in events|lookup:year|lookup:month %}
                        {% include 'snippets/events/event_card.html' %}
                        {% endfor %}
                    </div>
                {% endfor %}
            {% empty %}
                <h4>Aktuell sind keine Events geplant</h4>
            {% endfor %}
        </div>
    </div>
</section>